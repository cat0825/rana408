---
{"dg-publish":true,"dg-permalink":"/408/区分受限广播和直通广播","permalink":"/408/区分受限广播和直通广播/"}
---


#### 一、 受限广播 (Limited Broadcast) —— 在本间教室里吼一嗓子

受限广播，顾名思义，其传播范围被严格地**限制在当前所在的物理网段（广播域）内**。

- IP地址格式：固定为 255.255.255.255。
    
    这个地址的每一位都是1，它不代表任何特定的网络，而是泛指“本网络上的所有主机”。
    
- 路由器行为：路由器永远不会转发目的地址为 255.255.255.255 的数据包。
    
    这是IP协议的硬性规定。路由器是网络之间的边界，它会自觉地将这种“本地呐喊”隔离在本地，防止其泛滥到整个互联网。
    
- 典型应用场景：
    
    最经典的应用就是DHCP协议。当一台新主机接入网络，它一无所有——不知道自己的IP、不知道子网掩码、也不知道网关在哪。此时，它只能用255.255.255.255作为目的地址，向本地网络中发出一个DHCP Discover的“求救信号”，大喊：“有DHCP服务器吗？谁能给我分配个地址？”
    

#### 二、 直接广播 (Directed Broadcast) —— 对着邻班教室全员广播

直接广播，是指一个主机向**另一个特定的、非本地的目标网络**上的所有主机发送数据包。

- IP地址格式：{目标网络号}{主机号全为1}。
    
    例如，对于网络 172.16.0.0/16，其直接广播地址就是 172.16.255.255。发送给这个地址的数据包，意图是让172.16.0.0网络中的每一台主机都收到。
    
- **路由器行为**：（**这是关键区别，也是重要的安全考点**）
    
    - **理论上**：路由器**可以**转发直接广播报文。例如，主机A（在10.0.0.0/8网络）向`172.16.255.255`发送数据包。数据包会被路由到`172.16.0.0/16`网络的边界路由器上。该路由器识别出这是一个指向其所连网络的直接广播地址，于是将该数据包在其连接的`172.16.0.0/16`网络上以广播的形式发送出去。
        
    - **现实中**：由于直接广播极易被用于**Smurf（蓝精灵）攻击**等DDoS攻击手段，现代网络设备出于安全考虑，**默认情况下都禁止转发直接广播报文**（遵循RFC 2644建议）。管理员需要手动开启才会允许转发。因此，在今天的网络环境中，跨网段的直接广播基本已被弃用。
        

#### 三、 核心区别总结

为了更清晰地对比，我们将两者放入表格中：

|对比维度|受限广播 (Limited Broadcast)|直接广播 (Directed Broadcast)|
|---|---|---|
|**IP地址格式**|`255.255.255.255`|`{网络号}{主机号全1}` (如 `192.168.1.255`)|
|**目标范围**|**当前**所在的物理网段|**指定**的、特定的目标网络|
|**路由器行为**|**永远不会转发**|**默认禁止转发**（因安全风险），理论上可配置转发|
|**典型应用**|主机在**未知网络参数**时（如DHCP）进行本地发现|（历史用途）网络管理员向**远程特定网络**发送管理信息|
|**链路层封装**|目的MAC地址**永远**是广播MAC `FF:FF:FF:FF:FF:FF`|在到达最终网络**前**，目的MAC是下一跳路由器的MAC；在**最后一跳**时，目的MAC才变为 `FF:FF:FF:FF:FF:FF`|

#### 四、 结论

简单来说，两者最本质的区别在于**作用范围和路由器的处理方式**：

- **受限广播 (`255.255.255.255`)** 是一张**单程本地车票**，永远出不了当前这个“站”（广播域）。
    
- **直接广播 (`{net-id}{host-id all 1s}`)** 是一张寄往**远方某个城市所有居民**的“明信片”，但如今的“邮局”（路由器）出于安全考虑，大多都已拒收并销毁这种明信片了。
    